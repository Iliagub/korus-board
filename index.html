<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <title>KORUS Board</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    h2 {
      text-align: center;
    }
    button {
      width: 100%;
      padding: 15px;
      margin: 10px 0;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      background: #2AABEE;
      color: white;
    }
  </style>
</head>
<body>

<h2>KORUS Board<br>–†—É—Å—Å–∫–∞—è –¥–æ—Å–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π</h2>

<div id="home">
  <button onclick="showCategory('–†–∞–±–æ—Ç–∞')">üíº –†–∞–±–æ—Ç–∞</button>
  <button onclick="showCategory('–ñ–∏–ª—å—ë')">üè† –ñ–∏–ª—å—ë</button>
  <button onclick="showCategory('–ü—Ä–æ–¥–∞–º')">üõí –ü—Ä–æ–¥–∞–º</button>
  <button onclick="showCategory('–£—Å–ª—É–≥–∏')">üß∞ –£—Å–ª—É–≥–∏</button>
  <button onclick="showForm()">‚ûï –†–∞–∑–º–µ—Å—Ç–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</button>
</div>

<div id="form" style="display:none;">
  <h3>–ù–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</h3>
  <input id="title" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫" style="width:100%; padding:10px; margin:5px 0;">
  <textarea id="text" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ" style="width:100%; padding:10px; margin:5px 0;"></textarea>
  <button onclick="saveAd()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
  <button onclick="goHome()">–ù–∞–∑–∞–¥</button>
</div>

<div id="list" style="display:none;">
  <h3 id="categoryTitle"></h3>
  <div id="ads"></div>
  <button onclick="goHome()">–ù–∞–∑–∞–¥</button>
</div>

<script>
  const tg = window.Telegram.WebApp;
  tg.expand();

  function showForm(){
    document.getElementById('home').style.display = 'none';
    document.getElementById('form').style.display = 'block';
  }

  function goHome(){
    document.getElementById('home').style.display = 'block';
    document.getElementById('form').style.display = 'none';
    document.getElementById('list').style.display = 'none';
  }

  function saveAd(){
    const title = document.getElementById('title').value;
    const text = document.getElementById('text').value;

    let ads = JSON.parse(localStorage.getItem('ads')) || [];
    ads.push({title, text});
    localStorage.setItem('ads', JSON.stringify(ads));

    alert('–û–±—ä—è–≤–ª–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ');
    goHome();
  }

  function showCategory(name){
    document.getElementById('home').style.display = 'none';
    document.getElementById('list').style.display = 'block';
    document.getElementById('categoryTitle').innerText = name;

    let ads = JSON.parse(localStorage.getItem('ads')) || [];
    let html = '';
    ads.forEach(ad => {
      html += `<div style="background:white;padding:10px;margin:10px 0;border-radius:8px;">
        <b>${ad.title}</b><br>${ad.text}
      </div>`;
    });

    document.getElementById('ads').innerHTML = html;
  }
</script>

</body>
