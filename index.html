<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<title>KORLINK Market</title>

<style>
body{
  margin:0;
  background:#F3F4F6;
  font-family:'Inter', sans-serif;
  color:#111827;
}

.wrapper{
  max-width:480px;
  margin:20px auto;
  background:white;
  border-radius:24px;
  padding:24px;
  box-shadow:0 20px 40px rgba(0,0,0,0.06);
}

.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:20px;
}

.logo{
  display:flex;
  align-items:center;
  gap:10px;
}

.logo-circle{
  width:30px;
  height:30px;
  background:#0EA85C;
  border-radius:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  color:white;
  font-weight:600;
  font-size:14px;
}

h1{
  font-size:16px;
  font-weight:600;
  margin:0;
}

.subtitle{
  font-size:13px;
  color:#6B7280;
  margin-bottom:20px;
}

button{
  width:100%;
  padding:14px;
  margin:8px 0;
  border:none;
  border-radius:16px;
  font-size:14px;
  font-weight:500;
  cursor:pointer;
  transition:0.2s ease;
}

.primary{
  background:#0EA85C;
  color:white;
}

.primary:hover{
  background:#0B8F4D;
}

.secondary{
  background:white;
  border:1px solid #E5E7EB;
}

.secondary:hover{
  background:#F9FAFB;
}

.card{
  background:#FAFAFA;
  padding:16px;
  border-radius:18px;
  margin:10px 0;
  border:1px solid #F0F0F0;
}

.category{
  font-size:11px;
  font-weight:600;
  color:#0EA85C;
  margin-bottom:6px;
}

input, textarea, select{
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:14px;
  border:1px solid #E5E7EB;
  font-size:14px;
  background:#F9FAFB;
}

.footer{
  margin-top:30px;
  font-size:11px;
  color:#9CA3AF;
  text-align:center;
}
</style>
</head>

<body>

<div class="wrapper">

<div id="home">

<div class="logo">
  <div class="logo-circle">K</div>
  <div>
    <h1>KORLINK Market</h1>
  </div>
</div>

<div class="subtitle">
–õ–æ–∫–∞–ª—å–Ω—ã–π –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –≤ –Æ–∂–Ω–æ–π –ö–æ—Ä–µ–µ
</div>

<button class="secondary" onclick="showCategory('–†–∞–±–æ—Ç–∞')">üíº –†–∞–±–æ—Ç–∞</button>
<button class="secondary" onclick="showCategory('–ñ–∏–ª—å—ë')">üè† –ñ–∏–ª—å—ë</button>
<button class="secondary" onclick="showCategory('–ü—Ä–æ–¥–∞–º')">üõí –ü—Ä–æ–¥–∞–º</button>
<button class="secondary" onclick="showCategory('–£—Å–ª—É–≥–∏')">üß∞ –£—Å–ª—É–≥–∏</button>

<button class="primary" onclick="showForm()">‚ûï –†–∞–∑–º–µ—Å—Ç–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</button>

</div>

<div id="form" style="display:none;">
<h1>–ù–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</h1>

<select id="category">
<option value="–†–∞–±–æ—Ç–∞">–†–∞–±–æ—Ç–∞</option>
<option value="–ñ–∏–ª—å—ë">–ñ–∏–ª—å—ë</option>
<option value="–ü—Ä–æ–¥–∞–º">–ü—Ä–æ–¥–∞–º</option>
<option value="–£—Å–ª—É–≥–∏">–£—Å–ª—É–≥–∏</option>
</select>

<input id="title" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫">
<textarea id="text" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ"></textarea>

<button class="primary" onclick="saveAd()">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
<button class="secondary" onclick="goHome()">–ù–∞–∑–∞–¥</button>
</div>

<div id="list" style="display:none;">
<h1 id="categoryTitle"></h1>
<div id="ads"></div>
<button class="secondary" onclick="goHome()">–ù–∞–∑–∞–¥</button>
</div>

<div class="footer">
KORLINK Market ‚Äî —á–∞—Å—Ç–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –±–µ–∑ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤.<br>
–ë–µ–∑ —Å–ø–∞–º–∞. –ù–∞–ø—Ä—è–º—É—é –º–µ–∂–¥—É –ª—é–¥—å–º–∏.<br><br>
¬© 2026 KORLINK
</div>

</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

const user = tg.initDataUnsafe?.user;

function showForm(){
  home.style.display='none';
  form.style.display='block';
}

function goHome(){
  home.style.display='block';
  form.style.display='none';
  list.style.display='none';
}

function saveAd(){
  const category=document.getElementById('category').value;
  const title=document.getElementById('title').value;
  const text=document.getElementById('text').value;

  let ads=JSON.parse(localStorage.getItem('ads'))||[];

  ads.push({
    category,
    title,
    text,
    userId:user?.id || null,
    userName:user?.first_name || "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"
  });

  localStorage.setItem('ads',JSON.stringify(ads));
  alert("–û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ");
  goHome();
}

function showCategory(name){
  home.style.display='none';
  list.style.display='block';
  categoryTitle.innerText=name;

  let data=JSON.parse(localStorage.getItem('ads'))||[];
  let html='';

  data.filter(ad=>ad.category===name).forEach(ad=>{
    html+=`
      <div class="card">
        <div class="category">${ad.category}</div>
        <b>${ad.title}</b><br><br>
        ${ad.text}<br><br>
        <small>–ê–≤—Ç–æ—Ä: ${ad.userName}</small>
      </div>
    `;
  });

  document.getElementById('ads').innerHTML=html;
}
</script>

</body>
</html>
